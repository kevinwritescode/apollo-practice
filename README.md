# ğŸš€ Apollo Practice

Apollo Server NodeJS Practice, experimenting with Node TS, type generated GQL, and basic auth concepts.

Goals ğŸ¥… of this exercise:

1. Get comfortable with GQL concepts
2. Explore schema file structure strategies
3. Try GQL to Typescript Defs pipeline
4. Explore Apollo Server Express authorization vs authentication strategies
5. Explore Apollo Sandbox features
6. Practice Typescript generics

Next things to implement:

1. GQL unions and inline fragments `... on Droid {}`
2. directives `(@include(if) @skip(if))`
3. Passport authentication layer

# ğŸ“ Folder Format
```
â””â”€ dist/                     ğŸ™ˆ (Ignore) Autogenerated JS output
â””â”€ node_modules/             ğŸ™ˆ (Ignore) Package.json modules
â””â”€ src/
â”‚  â””â”€ _typedefs/             ğŸ“– Definitions and mocked data
â”‚  â”‚  â”‚  prepare-db.js       ğŸ™ˆ (Ignore) Loads dummy data into SQLite
â”‚  â”‚             
â”‚  â””â”€ schemas/               ğŸ“ GQL Typedefs and Resolvers
â”‚  â”‚  â”‚  error.js            ğŸ’€ GQL Errors
â”‚  â”‚  â”‚  mutation.js         ğŸ¸ GQL Mutations
â”‚  â”‚  â”‚  query.js            ğŸ¤” GQL Queries
â”‚  â”‚  â”‚  team.js             ğŸ‘ª Teams
â”‚  â”‚  â”‚  user.js             ğŸ‘©â€ğŸ¦° Users
â”‚  â”‚
â”‚  â”‚  auth.js                ğŸ—ï¸ Basic example authn / authz 
â”‚  â”‚  database.js            ğŸ“š Basic SQLite + Knex DB
â”‚  â”‚  schema.js              âš™ï¸ GQL Schema generator
â”‚  â”‚  server.js              â­ Server entry point
```

# ğŸ’¡ GQL Best Practices

Just a few notes I gathered while reviewing

-   Establish a naming convention like createUser vs userCreate
-   Be as specific as possible with mutations
-   Only one argument for mutations, the input
-   Have specific payload response per mutation for future expansion
-   Disable introspection in production

# ğŸ› ï¸ Tools

-   [Knex](https://knexjs.org/guide/) for SQLite3 Object querying
-   [GraphQL Codegen](https://github.com/dotansimha/graphql-code-generator)

# ğŸ‘©â€ğŸ« Learnings

-   [Generate Types](https://dev.to/xcanchal/automatically-generate-typescript-types-for-your-graphql-api-1fah)
-   [Missed GraphQL Concepts Explained](https://medium.com/naresh-bhatia/graphql-concepts-i-wish-someone-explained-to-me-a-year-ago-514d5b3c0eab)
-   [Federated Best Practices](https://www.apollographql.com/docs/enterprise-guide/federated-schema-design/)
-   [Designing Mutations](https://www.apollographql.com/blog/graphql/basics/designing-graphql-mutations/)
-   [Data Sources](https://www.apollographql.com/docs/apollo-server/data/data-sources/)
-   [Disable Introspection](https://www.apollographql.com/blog/graphql/security/why-you-should-disable-graphql-introspection-in-production/)

Matthew Gordon, Wendy Peralta 